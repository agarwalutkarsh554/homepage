!function(){"use strict";var e=function(e,t){if(!window.XMLHttpRequest)return console.log("This browser does not support requests");var n=new XMLHttpRequest;n.open("GET",e,!0),n.setRequestHeader("Access-Control-Allow-Headers","*"),n.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);t&&"function"==typeof t&&t(e)}},n.send(null)},t={none:{url:"none",holder:"none"},ddg:{url:"https://duckduckgo.com",holder:"Search on DuckDuckGo..."},bing:{url:"https://www.bing.com/search",holder:"Search on Bing..."},searx:{url:"https://searx.owo.cloud",holder:"Search on OwO searX..."},yahoo:{url:"https://search.yahoo.com/search",holder:"Search on Yahoo..."}},n={"01d":"2600.png","02d":"26c5.png","03d":"2601.png","04d":"1f327.png","09d":"1f327.png","10d":"1f326.png","11d":"26c8.png","13d":"1f328.png","50d":"1f32b.png","01n":"1f311.png","02n":"26c5.png","03n":"2601.png","04n":"1f327.png","09n":"1f327.png","10n":"1f326.png","11n":"26c8.png","13n":"1f328.png","50n":"1f32b.png"};function o(e,t,o){var a,s=document.createElement("div"),i=document.createElement("img"),c=document.createElement("p");s.className="wdiff",c.className="text",i.className="icon",a=0==t.tempc?`${Math.round(1.8*parseInt(o.main.temp)-459.67)} 째F`:`${Math.round(parseInt(o.main.temp)-273.15)} 째C`,i.src="assets/images/weather/"+n[o.weather[0].icon];var r=moment.unix(o.dt).format("LT"),l=o.weather[0].description.replace(/^\w/,e=>e.toUpperCase());c.innerText=`${r} - `;var d=document.createElement("span");d.innerText=`${l} | ${a}`,d.classList.add("wdetails"),c.append(d),s.appendChild(i),s.appendChild(c),e.appendChild(s)}function a(e,t=!1){var n=document.getElementById("js-bg").getBoundingClientRect().height-65,o=e.links.split("\n").slice(0,Math.floor((window.innerHeight-65)/40));if(52*o.length>n&&document.getElementById("quicklinks").classList.add("compact"),t)for(var a=0;a<o.length;a++)!function(e){if(e.length){var t=document.createElement("a"),n=document.createElement("img"),o=document.createElement("span");t.classList.add("quicklink"),t.setAttribute("href",e),n.classList.add("quicklink-icon"),o.classList.add("quicklink-txt"),o.innerText=e,t.appendChild(n),t.appendChild(o),document.getElementById("quicklinks").appendChild(t)}}(o[a]);else for(var s=0;s<o.length;s++)!function(e){e.length&&setTimeout((async function(){var t=document.createElement("a"),n=document.createElement("img"),o=document.createElement("span");t.classList.add("quicklink"),t.classList.add("load"),setTimeout((function(){t.classList.remove("load")}),810),t.setAttribute("href",e),n.classList.add("quicklink-icon"),n.setAttribute("src","https://cdn.bowser65.xyz/i/web.png"),o.classList.add("quicklink-txt"),o.innerText=e,t.appendChild(n),t.appendChild(o),document.getElementById("quicklinks").appendChild(t);const a=await fetch(`https://api.bowser65.xyz/favicon/${encodeURIComponent(e)}`),s=await a.json();s.icon&&n.setAttribute("src",s.icon)}),200*s)}(o[s])}var s;/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function i(){document.getElementById("body").classList.add("terminal");var e=document.getElementById("terminal-me");e.style.display="block",e.innerText=`${function(){if(navigator.userAgent.includes("Edg/"))return"edge";var e=navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i);return(e?e[1]:"browser").toLowerCase()}()}@homepage:~$ now --watch`,document.getElementById("formsearch").style.display="none"}function c(){var e=moment().format("LL"),t=moment().format(s);document.getElementById("js-date").innerText=e,document.getElementById("js-time").innerText=t,requestAnimationFrame(c)}function r(e){return("0"+e).slice(-2)}function l(){var e,t,n,o;document.body.style.backgroundColor="#"+(e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),o=r(e.getSeconds()),t.toString()+n.toString()+o.toString()),setTimeout(l,50)}chrome.storage.local.get({no_seconds:!1},(function(e){s=e.no_seconds?"LT":"LTS"}));var d=document.getElementById("js-bg");!function(){moment.locale(navigator.language),c();var e=Math.floor(31*Math.random());d.onload=function(){d.style.opacity=1},document.addEventListener("DOMContentLoaded",(function(){d.src="assets/images/backgrounds/background"+e+".jpg"}),!1)}(),chrome.storage.local.get({language:"",custombg:"",customfont:"",terminal:!1,customfontgoogle:!1,engines:"google",wkey:"",w3hours:!1,wlang:"en",tempc:!0,hexbg:!1,links:"",googleapps:!1,showSettings:!0,customcss:""},(function(s){if(s.custombg.length){var c=Math.floor(Math.random()*s.custombg.length);d.src=s.custombg[c]}if(s.language&&moment.locale(s.language),s.wkey&&navigator.geolocation.getCurrentPosition((function(t){!function(t,a){var s=a.coords;e(`https://api.openweathermap.org/data/2.5/forecast?lat=${s.latitude}&lon=${s.longitude}&lang=${t.wlang}&APPID=${t.wkey}`,(function(e){document.getElementById("wicon").src="assets/images/weather/"+n[e.list[0].weather[0].icon],document.getElementById("wname").innerText=e.city.name,document.getElementById("wdescription").innerText=e.list[0].weather[0].description.replace(/^\w/,e=>e.toUpperCase()),0==t.tempc?document.getElementById("wtemp").innerText=`${Math.round(1.8*parseInt(e.list[0].main.temp)-459.67)} 째F`:document.getElementById("wtemp").innerText=`${Math.round(parseInt(e.list[0].main.temp)-273.15)} 째C`,document.getElementById("wcontainer").style.display="block";var a=document.getElementById("wtime-container");if(t.w3hours)for(var s=1;s<5;s++)o(a,t,e.list[s])}))}(s,t)})),s.customfont){var r='"'+s.customfont+'", "Lato", sans-serif, Arial';if(s.customfontgoogle){var m=document.createElement("link");m.href="https://fonts.googleapis.com/css?family="+s.customfont.replace(" ","+"),m.rel="stylesheet",document.head.appendChild(m)}document.body.style.fontFamily=r}if(s.hexbg&&(d.src="",l()),s.terminal&&(!s.hexbg&&s.custombg.length||(d.src=""),s.customfont&&(document.body.style.fontFamily=null),i()),"google"!==s.engines&&("none"==s.engines&&(document.getElementById("formsearch").style.display="none"),document.getElementById("formsearch").action=t[s.engines].url,document.getElementById("forminput").placeholder=t[s.engines].holder),s.customcss){var u=document.createElement("style");u.type="text/css",u.innerText=s.customcss,document.head.appendChild(u)}if(s.links&&(s.terminal?a(s,!0):a(s,!1)),s.showSettings){var g=document.getElementById("settings");g.removeAttribute("style"),g.addEventListener("click",(function(){chrome.runtime.openOptionsPage()}))}s.googleapps&&(document.getElementById("googleapps").style.display="block",document.getElementById("googleapps-btn").style.display="flex")}))}();
