!function(){"use strict";var e=function(e,t){if(!window.XMLHttpRequest)return console.log("This browser does not support requests");var n=new XMLHttpRequest;n.open("GET",e,!0),n.setRequestHeader("Access-Control-Allow-Headers","*"),n.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);t&&"function"==typeof t&&t(e)}},n.send(null)},t={none:{url:"none",holder:"none"},bing:{url:"https://www.bing.com/search",holder:"Search on Bing..."},ddg:{url:"https://duckduckgo.com",holder:"Search on DuckDuckGo..."},ecosia:{url:"https://www.ecosia.org/search",holder:"Search on Ecosia"},searx:{url:"https://searx.owo.cloud",holder:"Search on OwO searX..."},yahoo:{url:"https://search.yahoo.com/search",holder:"Search on Yahoo..."}},n={"01d":"2600.png","02d":"26c5.png","03d":"2601.png","04d":"1f327.png","09d":"1f327.png","10d":"1f326.png","11d":"26c8.png","13d":"1f328.png","50d":"1f32b.png","01n":"1f311.png","02n":"26c5.png","03n":"2601.png","04n":"1f327.png","09n":"1f327.png","10n":"1f326.png","11n":"26c8.png","13n":"1f328.png","50n":"1f32b.png"};function o(e,t,o){var s,a=document.createElement("div"),c=document.createElement("img"),i=document.createElement("p");a.className="wdiff",i.className="text",c.className="icon",s=0==t.tempc?`${Math.round(1.8*parseInt(o.main.temp)-459.67)} 째F`:`${Math.round(parseInt(o.main.temp)-273.15)} 째C`,c.src="assets/images/weather/"+n[o.weather[0].icon];var r=moment.unix(o.dt).format("LT"),l=o.weather[0].description.replace(/^\w/,e=>e.toUpperCase());i.innerText=`${r} - `;var d=document.createElement("span");d.innerText=`${l} | ${s}`,d.classList.add("wdetails"),i.append(d),a.appendChild(c),a.appendChild(i),e.appendChild(a)}function s(e,t=!1){var n=document.getElementById("js-bg").getBoundingClientRect().height-65,o=e.links.split("\n").slice(0,Math.floor((window.innerHeight-65)/40));if(52*o.length>n&&document.getElementById("quicklinks").classList.add("compact"),t)for(var s=0;s<o.length;s++)!function(e){if(e.length){var t=document.createElement("a"),n=document.createElement("img"),o=document.createElement("span");t.classList.add("quicklink"),t.setAttribute("href",e),n.classList.add("quicklink-icon"),o.classList.add("quicklink-txt"),o.innerText=e,t.appendChild(n),t.appendChild(o),document.getElementById("quicklinks").appendChild(t)}}(o[s]);else for(var a=0;a<o.length;a++)!function(e){e.length&&setTimeout((async function(){var t=document.createElement("a"),n=document.createElement("img"),o=document.createElement("span");t.classList.add("quicklink"),t.classList.add("load"),setTimeout((function(){t.classList.remove("load")}),810),t.setAttribute("href",e),n.classList.add("quicklink-icon"),n.setAttribute("src","https://cdn.bowser65.xyz/i/web.png"),o.classList.add("quicklink-txt"),o.innerText=e,t.appendChild(n),t.appendChild(o),document.getElementById("quicklinks").appendChild(t);const s=await fetch(`https://api.bowser65.xyz/favicon/${encodeURIComponent(e)}`),a=await s.json();a.icon&&n.setAttribute("src",a.icon)}),200*a)}(o[a])}var a;/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);function c(){document.getElementById("body").classList.add("terminal");var e=document.getElementById("terminal-me");e.style.display="block",e.innerText=`${function(){if(navigator.userAgent.includes("Edg/"))return"edge";var e=navigator.userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i);return(e?e[1]:"browser").toLowerCase()}()}@homepage:~$ now --watch`,document.getElementById("formsearch").style.display="none"}try{chrome.storage.local.get({no_seconds:!1},(function(e){a=e.no_seconds?"LT":"LTS"}))}catch(e){console.log("Running on browser, resulting to default values..."),a="LTS"}function i(){var e=moment().format("LL"),t=moment().format(a);document.getElementById("js-date").innerText=e,document.getElementById("js-time").innerText=t,requestAnimationFrame(i)}function r(e){return("0"+e).slice(-2)}function l(){var e,t,n,o;document.body.style.backgroundColor="#"+(e=new Date,t=r(e.getHours()),n=r(e.getMinutes()),o=r(e.getSeconds()),t.toString()+n.toString()+o.toString()),setTimeout(l,50)}var d=document.getElementById("js-bg");!function(){moment.locale(navigator.language),i();var e=Math.floor(31*Math.random());d.onload=function(){d.style.opacity=1},document.addEventListener("DOMContentLoaded",(function(){d.src="assets/images/backgrounds/background"+e+".jpg"}),!1)}(),chrome.storage.local.get({language:"",custombg:"",customfont:"",terminal:!1,customfontgoogle:!1,engines:"google",wkey:"",w3hours:!1,wlang:"en",tempc:!0,hexbg:!1,links:"",googleapps:!1,showSettings:!0,customcss:""},(function(a){if(a.custombg.length){var i=Math.floor(Math.random()*a.custombg.length);d.src=a.custombg[i]}if(a.language&&moment.locale(a.language),a.wkey&&navigator.geolocation.getCurrentPosition((function(t){!function(t,s){var a=s.coords;e(`https://api.openweathermap.org/data/2.5/forecast?lat=${a.latitude}&lon=${a.longitude}&lang=${t.wlang}&APPID=${t.wkey}`,(function(e){document.getElementById("wicon").src="assets/images/weather/"+n[e.list[0].weather[0].icon],document.getElementById("wname").innerText=e.city.name,document.getElementById("wdescription").innerText=e.list[0].weather[0].description.replace(/^\w/,e=>e.toUpperCase()),0==t.tempc?document.getElementById("wtemp").innerText=`${Math.round(1.8*parseInt(e.list[0].main.temp)-459.67)} 째F`:document.getElementById("wtemp").innerText=`${Math.round(parseInt(e.list[0].main.temp)-273.15)} 째C`,document.getElementById("wcontainer").style.display="block";var s=document.getElementById("wtime-container");if(t.w3hours)for(var a=1;a<5;a++)o(s,t,e.list[a])}))}(a,t)})),a.customfont){var r='"'+a.customfont+'", "Lato", sans-serif, Arial';if(a.customfontgoogle){var m=document.createElement("link");m.href="https://fonts.googleapis.com/css?family="+a.customfont.replace(" ","+"),m.rel="stylesheet",document.head.appendChild(m)}document.body.style.fontFamily=r}if(a.hexbg&&(d.src="",l()),a.terminal&&(!a.hexbg&&a.custombg.length||(d.src=""),a.customfont&&(document.body.style.fontFamily=null),c()),"google"!==a.engines&&("none"==a.engines&&(document.getElementById("formsearch").style.display="none"),document.getElementById("formsearch").action=t[a.engines].url,document.getElementById("forminput").placeholder=t[a.engines].holder),a.customcss){var u=document.createElement("style");u.type="text/css",u.innerText=a.customcss,document.head.appendChild(u)}if(a.links&&(a.terminal?s(a,!0):s(a,!1)),a.showSettings){var g=document.getElementById("settings");g.removeAttribute("style"),g.addEventListener("click",(function(){chrome.runtime.openOptionsPage()}))}a.googleapps&&(document.getElementById("googleapps").style.display="block",document.getElementById("googleapps-btn").style.display="flex")}))}();
